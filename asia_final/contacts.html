<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <title>Асия — Контакты</title>
    <meta name="description" content="Контакты команды артистки Асия: реклама, концерты, PR." />
    <link rel="icon" type="image/png" href="src/favicon/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="src/favicon/favicon.svg" />
    <link rel="shortcut icon" href="src/favicon/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="src/favicon/apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-title" content="MyWebSite" />
    <link rel="manifest" href="src/favicon/site.webmanifest" />
    <link rel="stylesheet" href="css/main.css" />
    <link rel="stylesheet" href="css/contacts.css" />
</head>

<body class="page-contacts">
    <div class="page-bg" aria-hidden="true"></div>
    <header class="site-header" role="banner">
        <nav class="site-nav" aria-label="Основная навигация">
            <a class="site-nav__brand" href="index.html" aria-label="На главную">
                <img class="icon icon--brand" src="src/main/logo.svg" alt="Асия" />
            </a>
            <div class="site-nav__group">
                <button class="site-nav__menu-toggle" type="button" aria-expanded="false" aria-controls="header-dropdown">
                    <img src="src/linked/Contacts.svg" alt=""></button>

                <div class="site-nav__dropdown" id="header-dropdown" hidden>
                    <ul class="dropdown-list" role="menu">
                        <li role="none"><a role="menuitem" href="concerts.html"><img src="src/linked/Concerts.svg" alt=""></a></li>
                        <li role="none"><a role="menuitem" href="merch.html"><img src="src/linked/Merch.svg" alt=""></a></li>
                        <li role="none"><a role="menuitem" href="contacts.html"><img src="src/linked/Treki.svg" alt=""></a></li>
                    </ul>
                </div>
            </div>

            <a class="site-nav__action" href="#" aria-label="Проиграть / остановить музыку">
                <img class="icon icon--action" src="src/main/music.svg" alt="" />
            </a>
        </nav>
    </header>

    <main class="contacts" role="main">
        <h1 class="visually-hidden">Контакты</h1>

        <ul class="contacts__list" role="list">
            <li class="contact-card">
                <div class="contact-card__about">
                    <div class="contact-card__name">Екатерина</div>
                    <div class="contact-card__role">Реклама</div>
                </div>

                <div class="phone-pill" data-copy-value="+7 903 112 20 01" data-lg>
                    <a class="phone-pill__number" href="tel:+79031122001" aria-label="Позвонить Екатерине">
                        +7 903 112 20 01
                    </a>
                    <button class="phone-pill__btn btn--copy" type="button" aria-label="Скопировать номер Екатерины" data-copy>
                        <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true">
                            <path fill="currentColor" d="M16 1H4c-1.1 0-2 .9-2 2v12h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
                        </svg>
                    </button>
                    <a class="phone-pill__btn btn--call" href="tel:+79031122001" aria-label="Позвонить">
                        <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true">
                            <path fill="currentColor" d="M6.6 10.8a15.1 15.1 0 006.6 6.6l2.2-2.2a1 1 0 011-.26 11 11 0 003.5.56 1 1 0 011 1V20a1 1 0 01-1 1 17 17 0 01-16-16 1 1 0 011-1h3.4a1 1 0 011 1 11 11 0 00.56 3.5 1 1 0 01-.26 1l-2.2 2.2z"/>
                        </svg>
                    </a>
                    <span class="copy-toast" role="status" aria-live="polite">Скопировано</span>
                </div>
            </li>

            <li class="contact-card">
                <div class="contact-card__about">
                    <div class="contact-card__name">Александра</div>
                    <div class="contact-card__role">Реклама</div>
                </div>

                <div class="phone-pill" data-copy-value="+7 985 279 26 70" data-lg>
                    <a class="phone-pill__number" href="tel:+79852792670" aria-label="Позвонить Александре">
                        +7 985 279 26 70
                    </a>
                    <button class="phone-pill__btn btn--copy" type="button" aria-label="Скопировать номер Александры" data-copy>
                        <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true">
                            <path fill="currentColor" d="M16 1H4c-1.1 0-2 .9-2 2v12h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
                        </svg>
                    </button>
                    <a class="phone-pill__btn btn--call" href="tel:+79852792670" aria-label="Позвонить">
                        <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true">
                            <path fill="currentColor" d="M6.6 10.8a15.1 15.1 0 006.6 6.6l2.2-2.2a1 1 0 011-.26 11 11 0 003.5.56 1 1 0 011 1V20a1 1 0 01-1 1 17 17 0 01-16-16 1 1 0 011-1h3.4a1 1 0 011 1 11 11 0 00.56 3.5 1 1 0 01-.26 1l-2.2 2.2z"/>
                        </svg>
                    </a>
                    <span class="copy-toast" role="status" aria-live="polite">Скопировано</span>
                </div>
            </li>
            <li class="contact-card">
                <div class="contact-card__about">
                    <div class="contact-card__name">Денис</div>
                    <div class="contact-card__role">Концерты</div>
                </div>

                <div class="phone-pill" data-copy-value="+7 916 669 11 11" data-lg>
                    <a class="phone-pill__number" href="tel:+79166691111" aria-label="Позвонить Денису">
                        +7 916 669 11 11
                    </a>
                    <button class="phone-pill__btn btn--copy" type="button" aria-label="Скопировать номер Дениса" data-copy>
                        <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true">
                            <path fill="currentColor" d="M16 1H4c-1.1 0-2 .9-2 2v12h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
                        </svg>
                    </button>
                    <a class="phone-pill__btn btn--call" href="tel:+79166691111" aria-label="Позвонить">
                        <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true">
                            <path fill="currentColor" d="M6.6 10.8a15.1 15.1 0 006.6 6.6l2.2-2.2a1 1 0 011-.26 11 11 0 003.5.56 1 1 0 011 1V20a1 1 0 01-1 1 17 17 0 01-16-16 1 1 0 011-1h3.4a1 1 0 011 1 11 11 0 00.56 3.5 1 1 0 01-.26 1l-2.2 2.2z"/>
                        </svg>
                    </a>
                    <span class="copy-toast" role="status" aria-live="polite">Скопировано</span>
                </div>
            </li>

            <li class="contact-card">
                <div class="contact-card__about">
                    <div class="contact-card__name">Анастасия</div>
                    <div class="contact-card__role">PR‑менеджер</div>
                </div>

                <div class="phone-pill" data-copy-value="+7 929 594 15 50" data-lg>
                    <a class="phone-pill__number" href="tel:+79295941550" aria-label="Позвонить Анастасии">
                        +7 929 594 15 50
                    </a>
                    <button class="phone-pill__btn btn--copy" type="button" aria-label="Скопировать номер Анастасии" data-copy>
                        <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true">
                            <path fill="currentColor" d="M16 1H4c-1.1 0-2 .9-2 2v12h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
                        </svg>
                    </button>
                    <a class="phone-pill__btn btn--call" href="tel:+79295941550" aria-label="Позвонить">
                        <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true">
                            <path fill="currentColor" d="M6.6 10.8a15.1 15.1 0 006.6 6.6l2.2-2.2a1 1 0 011-.26 11 11 0 003.5.56 1 1 0 011 1V20a1 1 0 01-1 1 17 17 0 01-16-16 1 1 0 011-1h3.4a1 1 0 011 1 11 11 0 00.56 3.5 1 1 0 01-.26 1l-2.2 2.2z"/>
                        </svg>
                    </a>
                    <span class="copy-toast" role="status" aria-live="polite">Скопировано</span>
                </div>
            </li>
        </ul>
        <p class="sr-status" role="status" aria-live="polite"></p>
    </main>

    <footer class="site-footer" role="contentinfo">
        <a href="#" class="site-footer__social-media" aria-label="Соцсети">
            <img src="src/main/link.svg" alt="" />
        </a>
        <a href="contacts.html" class="site-footer__contacts" aria-current="page">контакты</a>
        <a href="#" class="site-footer__faq" aria-label="FAQ">
            <img src="src/main/FAQ.svg" alt="FAQ">
        </a>
    </footer>

    <script>
        document.addEventListener('click', async (e) => {
            const btn = e.target.closest('[data-copy]');
            if (!btn) return;

            const pill = btn.closest('.phone-pill');
            const number = pill?.dataset.copyValue || pill?.querySelector('.phone-pill__number')?.textContent?.trim();
            if (!number) return;

            try {
                if (navigator.clipboard && window.isSecureContext) {
                    await navigator.clipboard.writeText(number);
                } else {
                    // fallback
                    const ta = document.createElement('textarea');
                    ta.value = number;
                    ta.style.position = 'fixed';
                    ta.style.insetInlineStart = '-9999px';
                    document.body.appendChild(ta);
                    ta.select();
                    document.execCommand('copy');
                    ta.remove();
                }
                showCopyToast(btn, 'Скопировано');
                announce('Скопировано: ' + number);
            } catch {
                showCopyToast(btn, 'Не удалось скопировать');
                announce('Не удалось скопировать номер');
            }
        });

        function showCopyToast(anchor, text) {
            const toast = document.createElement('span');
            toast.className = 'copy-toast';
            toast.textContent = text;
            anchor.parentElement.appendChild(toast);
            requestAnimationFrame(() => toast.classList.add('is-visible'));
            setTimeout(() => {
                toast.classList.remove('is-visible');
                toast.addEventListener('transitionend', () => toast.remove(), { once: true });
            }, 1600);
        }

        function announce(msg) {
            const region = document.querySelector('.sr-status');
            if (region) region.textContent = msg;
        }
    </script>
    <script>
        document.addEventListener('pointermove', (e)=>{
            document.querySelectorAll('[data-lg]').forEach(el=>{
                const r = el.getBoundingClientRect();
                if(e.clientX < r.left || e.clientX > r.right || e.clientY < r.top || e.clientY > r.bottom) return;
                const nx = (e.clientX - r.left) / r.width  - .5;   /* -0.5..0.5 */
                const ny = (e.clientY - r.top)  / r.height - .5;
                /* слегка сдвигаем блик ::before — имитация «ломает свет» */
                el.style.setProperty('--lg-kx', (nx * 6)+'px');
                el.style.setProperty('--lg-ky', (ny * 6)+'px');
            });
        });
    </script>
    <script>
        const toggle   = document.querySelector('.site-nav__menu-toggle');
        const dropdown = document.querySelector('#header-dropdown');

        function openDD(){
            toggle.setAttribute('aria-expanded', 'true');
            dropdown.hidden = false;
            dropdown.classList.add('is-open');
        }
        function closeDD(){
            toggle.setAttribute('aria-expanded', 'false');
            dropdown.classList.remove('is-open');
            dropdown.addEventListener('transitionend', () => dropdown.hidden = true, { once:true });
        }

        toggle?.addEventListener('click', () => {
            const expanded = toggle.getAttribute('aria-expanded') === 'true';
            expanded ? closeDD() : openDD();
        });

        document.addEventListener('click', (e) => {
            if (!dropdown || dropdown.hidden) return;
            if (!e.target.closest('.site-nav__group')) closeDD();
        });

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && dropdown && !dropdown.hidden) {
                closeDD();
                toggle.focus();
            }
        });
    </script>
    <script>
        (() => {
            const pills = document.querySelectorAll('.phone-pill');

            function copyText(txt){
                if (navigator.clipboard?.writeText) return navigator.clipboard.writeText(txt);
                const ta = document.createElement('textarea');
                ta.value = txt;
                ta.style.position = 'fixed';
                ta.style.top = '-9999px';
                document.body.appendChild(ta);
                ta.select();
                try { document.execCommand('copy'); } catch(e){}
                ta.remove();
                return Promise.resolve();
            }

            pills.forEach(pill => {
                const copyBtn = pill.querySelector('.phone-pill__btn--copy');
                if (!copyBtn) return;

                copyBtn.addEventListener('click', async (e) => {
                    e.preventDefault();
                    const number =
                        pill.dataset.number?.trim() ||
                        pill.querySelector('.phone-pill__number')?.textContent.trim() || '';

                    try { await copyText(number); } catch(e){ /* ignore */ }

                    pill.classList.add('is-copied');
                    clearTimeout(pill._toastT);
                    pill._toastT = setTimeout(() => pill.classList.remove('is-copied'), 1600);
                });
            });
        })();
    </script>

</body>
</html>
