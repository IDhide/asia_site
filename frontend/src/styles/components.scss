// ========== Design System Components ==========
// Централизованная система компонентов и миксинов
// Все базовые миксины вынесены в отдельные модули для лучшей организации

// Forward all modules to make them available when importing components.scss
@forward './_variables.scss';
@forward './_effects.scss';
@forward './_buttons.scss';
@forward './_toggles.scss';
@forward './_cards.scss';
@forward './_typography.scss';
@forward './_layout.scss';
@forward './_states.scss';
@forward './_accordion.scss';

// Import for local use
@use './_variables.scss' as *;
@use './_effects.scss' as *;
@use './_buttons.scss' as *;

// ========== Project-Specific Components ==========
// Компоненты специфичные для этого проекта

// Social Buttons
@mixin social-button {
  @include button-glass('s');
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all var(--transition-fast);
  border-radius: var(--radius-l);
  padding: clamp(8px, 1.5vw, 12px);

  img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    display: block;
  }

  &:hover {
    background: rgba(255, 255, 255, 0.12);
    border-color: rgba(255, 255, 255, 0.3);
    transform: scale(1.01);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.35);
  }

  &:active {
    transform: scale(0.98);
  }
}

@mixin social-buttons-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--gap-xs);
  width: 100%;
}

// Header Components
@mixin header-menu-button {
  @include glass-real;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: clamp(0.5rem, 1.5vw, 0.75rem);
  height: var(--header-element-height);
  padding: 0 clamp(16px, 2.5vw, 24px);
  border-radius: calc(var(--header-element-height) / 2);
  font-size: clamp(14px, 1.8vw, 16px);
  font-weight: 600;
  color: rgba(255, 255, 255, 0.9);
  cursor: pointer;
  transition: background-color 400ms cubic-bezier(1, 0, 0.4, 1),
              box-shadow 400ms cubic-bezier(1, 0, 0.4, 1),
              transform 200ms cubic-bezier(1, 0, 0.4, 1);
  background: none;
  font-family: inherit;

  &:hover:not(:disabled) {
    --glass-opacity: calc(var(--glass-bg-opacity-normal) * 1.5);
    transform: scale(1.01);
    @include glass-shadows(calc(var(--glass-reflex-light) * 1.2), calc(var(--glass-reflex-dark) * 1.1));
  }

  &:active:not(:disabled) {
    transform: scale(0.98);
    --glass-opacity: calc(var(--glass-bg-opacity-normal) * 1.8);
  }
}

@mixin header-dropdown {
  position: absolute;
  top: calc(100% + 0.5rem);
  left: 50%;
  @include glass-real;
  border-radius: var(--radius-m);
  padding: 0.5rem;
  opacity: 0;
  animation: dropdownFadeIn var(--transition-fast) forwards;
  transform: translateX(-50%);
}

// Круглая иконка для хедера (универсальная)
@mixin header-icon-button {
  @include glass-real;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  width: var(--header-element-height);
  height: var(--header-element-height);
  border-radius: 50%;
  font-size: clamp(14px, 1.8vw, 16px);
  text-decoration: none;
  cursor: pointer;
  overflow: hidden;
  transition: background-color 400ms cubic-bezier(1, 0, 0.4, 1),
              box-shadow 400ms cubic-bezier(1, 0, 0.4, 1),
              transform 200ms cubic-bezier(1, 0, 0.4, 1);

  &:hover {
    transform: scale(1.01);
    --glass-opacity: calc(var(--glass-bg-opacity-normal) * 1.5);
    @include glass-shadows(calc(var(--glass-reflex-light) * 1.2), calc(var(--glass-reflex-dark) * 1.1));
  }
}

// Legacy alias (для обратной совместимости)
@mixin cart-icon {
  @include header-icon-button;
}

@mixin badge {
  position: absolute;
  bottom: 0.5rem;
  right: 0.5rem;
  color: white;
  font-size: clamp(9px, 1.2vw, 14px);
  font-weight: 700;
  line-height: 1;
}
