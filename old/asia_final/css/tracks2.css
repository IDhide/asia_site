@charset "UTF-8";
@property --blur { syntax: '<length>'; inherits: false; initial-value: 0px; }
@property --op   { syntax: '<number>'; inherits: false; initial-value: 1; }

:root{
    --overlay: linear-gradient(0deg, rgba(0,0,0,.60), rgba(0,0,0,.60));
    --glass-brd: rgba(255,255,255,.18);
    --bottom-blur-h: clamp(90px, 12svh, 140px);
    --active-top: 50%;
    --active-left: 50%;
    --active-width: 0px;
    --active-height: 0px;
    --off-1: 22vw;
    --off-2: 40vw;
    --off-3: 58vw;
    --btn-inset: 28px;

}

body {
    overflow:auto;
}

.page-bg{
    position: fixed; inset: 0; z-index: -1;
    background: var(--overlay), var(--hero-image) center/cover no-repeat;
}
.page-bg::before{
    content:"";
    position:absolute;
    inset:-12px;
    background:inherit;
    filter: blur(8px);
    transform: scale(1.035);
}

header {
    inset-inline-start: clamp(1.75rem, 4vw, 2.75rem);
    inset-inline-end: clamp(3.25rem, 6vw, 4.75rem);
}


.tracks{
    min-block-size: 100svh;
    padding-inline: clamp(8px, 2vw, 24px);
    padding-block: clamp(120px, 12vw, 160px)
    calc(var(--bottom-blur-h) + clamp(40px, 5vw, 70px));
    display: flex;
    align-items: center;
    justify-content: center;
}


.carousel{
    position: relative;
    width: 100%;
    margin: 0 auto;
}

.carousel__item.-inst{
    transition: none !important;
    opacity: 0;
}

.carousel__btn{
    position: absolute;
    z-index: 100;
    display:inline-flex;
    align-items:center;
    justify-content:center;
    inline-size: 46px;
    block-size: 46px;
    border-radius: 50%;
    background:
            radial-gradient(120% 140% at 50% 30%,
            rgba(255,255,255,.22) 0,
            rgba(255,255,255,.08) 38%,
            rgba(255,255,255,0) 60%),
            rgba(18,18,18,.72);
    border: 1px solid rgba(255,255,255,.28);
    box-shadow:
            0 8px 28px rgba(0,0,0,.50),
            0 0 22px rgba(255,255,255,.08),
            inset 0 2px 10px rgba(255,255,255,.10);
    transition: opacity .24s ease, box-shadow .24s ease;
}
.carousel__btn--prev{
    left: calc(var(--active-left) + var(--btn-inset));
    top:  calc(var(--active-top) + var(--active-height)/2);
    transform: translate(-50%, -50%);
}
.carousel__btn--next{
    left: calc(var(--active-left) + var(--active-width) - var(--btn-inset));
    top:  calc(var(--active-top) + var(--active-height)/2);
    transform: translate(-50%, -50%);
}


.carousel.is-moving .carousel__btn{ opacity: 0; pointer-events: none; }
.carousel__btn:hover{
    box-shadow:
            0 12px 34px rgba(0,0,0,.55),
            0 0 28px rgba(255,255,255,.12),
            inset 0 2px 12px rgba(255,255,255,.12);
}



.carousel__viewport{ overflow: visible; }
.carousel__list{
    position: relative; width: 100%;
    height: clamp(380px, 48vw, 620px);
    list-style:none; margin:0; padding:0;
}


.carousel__item{
    position: absolute; top: 50%; left: 50%;
    transform: translate(-50%, -50%) scale(var(--scale, 1));
    width: clamp(360px, 30vw, 560px);         /* центральная крупная */
    aspect-ratio: 1; border-radius: 28px; overflow: hidden;
    background: #0e0e10;
    box-shadow: 0 12px 40px rgba(0,0,0,.55), 0 0 42px rgba(255,255,255,.08);
    display: flex; align-items:center; justify-content:center;
    filter: blur(var(--blur, 0)); opacity: var(--op, 1);
    transition:
            transform .48s cubic-bezier(.22,.61,.36,1),
            filter   .48s cubic-bezier(.22,.61,.36,1),
            opacity  .32s ease;
    will-change: transform, filter, opacity;
}
.carousel__item > img{ width: 100%; height: 100%; object-fit: cover; }
.carousel__item[data-pos="0"]  { left: 50%; z-index: 10; }

.carousel__item[data-pos="-1"]{ left: calc(50% - var(--off-1)); z-index: 9; }
.carousel__item[data-pos="1"] { left: calc(50% + var(--off-1)); z-index: 9; }

.carousel__item[data-pos="-2"]{ left: calc(50% - var(--off-2)); z-index: 8; }
.carousel__item[data-pos="2"] { left: calc(50% + var(--off-2)); z-index: 8; }

.carousel__item[data-pos="-3"]{ left: calc(50% - var(--off-3)); z-index: 7; }
.carousel__item[data-pos="3"] { left: calc(50% + var(--off-3)); z-index: 7; }

.carousel__fade{
    position: absolute; inset-block: clamp(8px, 2vh, 16px) calc(28% + 160px);
    inline-size: clamp(110px, 14%, 180px); z-index: 6; pointer-events: none;
    backdrop-filter: blur(12px) saturate(120%); -webkit-backdrop-filter: blur(12px) saturate(120%);
}
.carousel__fade--left {
    inset-inline-start: 0;
    background: linear-gradient(to right, rgba(0,0,0,.35), transparent 70%);
    mask-image: linear-gradient(to right, #fff 0%, transparent 85%);
}
.carousel__fade--right{
    inset-inline-end: 0;
    background: linear-gradient(to left, rgba(0,0,0,.35), transparent 70%);
    mask-image: linear-gradient(to left, #fff 0%, transparent 85%);
}


.links-grid{
    position: absolute;
    left: calc(var(--active-left) + var(--active-width)/2);
    top: calc(var(--active-top) + var(--active-height) + 22px);
    transform: translateX(-50%);
    inline-size: var(--active-width);
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 14px 22px;
    justify-items: center;
    z-index: 6;
    transition: opacity .24s ease;
}
.carousel.is-moving .links-grid{ opacity: 0; }

.link{
    display: grid;
    place-items: center;
}
.link img{
    width: clamp(34px, 3.6vw, 46px);
    height: auto;
    display:block;
}


.page-tracks::after{
    content:""; position: fixed; left:0; right:0; bottom:0; height: var(--bottom-blur-h);
    pointer-events:none; z-index:4;
    backdrop-filter: blur(14px) saturate(120%); -webkit-backdrop-filter: blur(14px) saturate(120%);
    background: linear-gradient(to bottom, rgba(0,0,0,0) 0%, rgba(0,0,0,.20) 45%, rgba(0,0,0,.60) 100%);
    mask-image: linear-gradient(to bottom, rgba(0,0,0,0) 0%, rgba(0,0,0,1) 58%, rgba(0,0,0,1) 100%);
}


.site-nav__group{ position: relative; margin-inline-start: auto; }
.site-nav__menu-toggle{
    display: inline-flex; align-items:center; gap:8px;
    padding: 12px 18px; border-radius: 9999px;
    background: rgba(20,20,20,.72); border: 1px solid rgba(255,255,255,.16);
    color:#f2f2f2; font-weight:700; letter-spacing:.02em;
    box-shadow: 0 0 22px rgba(255,255,255,.08), inset 0 1px 10px rgba(255,255,255,.06);
}
.site-nav__menu-toggle .caret{ transition: transform .24s ease; }
.site-nav__menu-toggle[aria-expanded="true"] .caret{ transform: rotate(180deg); }
.site-nav__dropdown{
    position: absolute; inset-block-start: calc(100% + 8px); inset-inline-end: 0;
    inline-size: max-content; min-inline-size: 220px; padding: 8px;
    background: rgba(18,18,18,.56); border: 1px solid var(--glass-brd);
    border-radius: 16px; backdrop-filter: blur(10px) saturate(120%);
    box-shadow: 0 8px 30px rgba(0,0,0,.45);
    overflow: hidden; --max:420px; max-height:0; opacity:0; transform:translateY(-6px);
    transition: max-height .32s ease, opacity .22s ease, transform .22s ease;
}
.site-nav__dropdown.is-open{ max-height:var(--max); opacity:1; transform:translateY(0); }
.dropdown-list{ display:grid;
    gap:4px;
    margin:0;
    padding:4px;
    list-style:none; }
.dropdown-list a{
    display:block; padding:10px 12px; border-radius:10px; color:#f1f1f1; text-decoration:none; white-space:nowrap; }
.dropdown-list a:hover{ background: rgba(255,255,255,.08); }

.visually-hidden{ position:absolute !important; inline-size:1px; block-size:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0 0 0 0); white-space:nowrap; border:0; }

@media (max-width: 900px){
    .carousel__item{ width: min(56vw, 360px); }
    .carousel__fade{ inline-size: 22%; }
}
@media (max-width: 560px){
    .links-grid{ inline-size: 92%; gap: 12px 16px; }
}
@media (prefers-reduced-motion: reduce){
    .carousel__item{ transition: none !important; }
}

.releases-slider{ --slide-w: clamp(360px, 30vw, 560px);
    position: relative; width: 100%; margin: 0 auto;
}

.releases-slider .swiper {
  width: 100%;
  height: clamp(380px, 48vw, 620px);
  overflow: visible;
}

.releases-slider .swiper-wrapper{ align-items: center; }
.releases-slider .swiper-slide{
  width: var(--slide-w);
  aspect-ratio: 1;
  border-radius: 28px;
  overflow: hidden;
  background: #0e0e10;
  box-shadow: 0 12px 40px rgba(0,0,0,.55), 0 0 42px rgba(255,255,255,.08);
  display: flex; align-items:center; justify-content:center;
}
.releases-slider .swiper-slide img{ width:100%; height:100%; object-fit:cover; display:block; }


.releases-slider .swiper-button-next,
.releases-slider .swiper-button-prev{
  width: 46px; height: 46px; border-radius: 50%;
  background:
    radial-gradient(120% 140% at 50% 30%, rgba(255,255,255,.22) 0, rgba(255,255,255,.08) 38%, rgba(255,255,255,0) 60%),
    rgba(18,18,18,.72);
  border: 1px solid rgba(255,255,255,.28);
  box-shadow:
    0 8px 28px rgba(0,0,0,.50),
    0 0 22px rgba(255,255,255,.08),
    inset 0 2px 10px rgba(255,255,255,.10);
}
.releases-slider .swiper-button-next:after,
.releases-slider .swiper-button-prev:after{
  font-size: 16px; color: #fff;
}


.releases-slider .swiper-pagination-bullet{
  background: rgba(255,255,255,.55);
  opacity: .6;
}
.releases-slider .swiper-pagination-bullet-active{
  background: #fff; opacity: 1;
}


.releases-slider .links-grid{
  margin: 22px auto 0;
  inline-size: var(--slide-w);
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 14px 22px;
  justify-items: center;
}
.releases-slider .link{ display:grid; place-items:center; }
.releases-slider .link img{ width: clamp(34px, 3.6vw, 46px); height:auto; display:block; }

@media (max-width: 900px){
  .releases-slider{ --slide-w: min(56vw, 360px); }
}
@media (max-width: 560px){
  .releases-slider .links-grid{ inline-size: 92%; gap: 12px 16px; }
}



/* ======= HERO SWIPER: только 3 карточки, плавная анимация, блюр боковых ======= */
.releases-slider{ position: relative; width: 100%; margin: 0 auto; }
.releases-slider .swiper--hero{ width: 100vw; max-width: 100%; overflow: visible; }
.releases-slider .swiper-slide{
  width: calc(100vw / 3 - var(--gap, 16px));
  aspect-ratio: 1;
  border-radius: 28px;
  overflow: hidden;
  background: #0e0e10;
  box-shadow: 0 12px 40px rgba(0,0,0,.55), 0 0 42px rgba(255,255,255,.08);
  display: flex; align-items:center; justify-content:center;
  transition: transform .48s cubic-bezier(.22,.61,.36,1), filter .48s cubic-bezier(.22,.61,.36,1), opacity .32s ease;
}
.releases-slider .swiper-slide img{ width:100%; height:100%; object-fit:cover; display:block; }

/* Видимость только трёх карточек */
.releases-slider .swiper-slide{ opacity: 0; pointer-events: none; }
.releases-slider .swiper-slide-active,
.releases-slider .swiper-slide-prev,
.releases-slider .swiper-slide-next{ opacity: 1; pointer-events: auto; }

.releases-slider .swiper-slide-prev,
.releases-slider .swiper-slide-next{
  transform: scale(.94);
  filter: blur(4px);
  opacity: .85;
}

.releases-slider .swiper-button-next,
.releases-slider .swiper-button-prev{
  width: 46px; height: 46px; border-radius: 50%;
  background:
    radial-gradient(120% 140% at 50% 30%, rgba(255,255,255,.22) 0, rgba(255,255,255,.08) 38%, rgba(255,255,255,0) 60%),
    rgba(18,18,18,.72);
  border: 1px solid rgba(255,255,255,.28);
  box-shadow:
    0 8px 28px rgba(0,0,0,.50),
    0 0 22px rgba(255,255,255,.08),
    inset 0 2px 10px rgba(255,255,255,.10);
  top: calc(var(--active-top) + var(--active-height)/2);
  transform: translateY(-50%);
}
.releases-slider .swiper-button-prev{ left: calc(var(--active-left) + 28px); }
.releases-slider .swiper-button-next{ left: calc(var(--active-left) + var(--active-width) - 28px); }
.releases-slider.is-moving .swiper-button-next,
.releases-slider.is-moving .swiper-button-prev{ opacity: 0; pointer-events: none; }
.releases-slider .swiper-button-next:after,
.releases-slider .swiper-button-prev:after{ font-size: 16px; color: #fff; }

/* Верхние кнопки */
.releases-top{ display:flex; gap:10px; justify-content:center; margin-block-end: 16px; }
.pill{
  padding: 8px 14px; border-radius: 9999px; border:1px solid rgba(255,255,255,.18);
  background: rgba(20,20,20,.6); color:#f2f2f2; font-weight:700; letter-spacing:.02em;
  box-shadow: 0 0 22px rgba(255,255,255,.08), inset 0 1px 10px rgba(255,255,255,.06);
}
.pill.is-active{ background: rgba(255,255,255,.12); }

/* Нижний блок под активной карточкой */
.release-meta{
  position: absolute;
  left: calc(var(--active-left) + var(--active-width)/2);
  top: calc(var(--active-top) + var(--active-height) + 22px);
  transform: translateX(-50%);
  inline-size: var(--active-width);
  z-index: 6;
  transition: opacity .24s ease;
}
.releases-slider.is-moving .release-meta{ opacity: 0; }

.release-meta .chips{ display:flex; flex-wrap:wrap; gap:10px; margin-block: 0 12px; }
.release-meta .chip{
  display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border-radius:9999px;
  background: rgba(20,20,20,.72); border:1px solid rgba(255,255,255,.16);
  color:#f1f1f1; font-size:14px; white-space:nowrap;
}
.release-meta .chip.title{ font-weight:800; }
.release-meta .chip.dim{ opacity:.9; font-weight:600; }
.release-meta .chip.tag{ font-weight:800; }

.release-meta .services{
  display:grid; grid-template-columns: repeat(3,1fr); gap:14px 22px; justify-items:center;
}
.release-meta .service img{ width: clamp(34px, 3.6vw, 46px); height:auto; display:block; }

/* === Slider tweaks to match mockup === */
.releases-slider{ --slide-w: clamp(320px, 26vw, 520px); }
.releases-slider .swiper{ height: clamp(420px, 52vw, 680px); }
.releases-slider .swiper-pagination{ display: none !important; }
.releases-slider .swiper-slide-prev,
.releases-slider .swiper-slide-next{
    transform: scale(.92);
    filter: blur(3px);
    opacity: .88;
}


.releases-slider .swiper-button-prev,
.releases-slider .swiper-button-next{
    top: 50%;
    transform: translateY(-50%);
}
.releases-slider .swiper-button-prev{
    left: calc(50% - var(--slide-w)/2 + 22px);
}
.releases-slider .swiper-button-next{
    left: calc(50% + var(--slide-w)/2 - 22px);
}

.releases-slider .links-grid{
    margin: 18px auto 0;
    inline-size: var(--slide-w);
    gap: 12px 18px;
}
.releases-slider .link img{
    width: clamp(30px, 3.2vw, 42px);
}

@media (max-width: 900px){
  .releases-slider .swiper-slide{ width: min(56vw, 360px); }
}

@media (max-width: 560px){
  .release-meta{ inline-size: 92%; }
}


html, body{ overflow-x: clip; }
@supports not (overflow: clip){
  html, body{ overflow-x: hidden; }
}

.releases-slider{ overflow: clip; }
@supports not (overflow: clip){
  .releases-slider{ overflow: hidden; }
}


.releases-slider .swiper--hero{
  inline-size: 100% !important;
  max-inline-size: 100%;
  overflow: clip;
}
@supports not (overflow: clip){
  .releases-slider .swiper--hero{ overflow: hidden; }
}


.releases-slider .swiper-slide{
    width: auto;
}

:root{
    --releases-h: clamp(210px, 26vw, 340px);
}
.releases-slider .swiper{
    height: var(--releases-h) !important;
}

.releases-slider .swiper-slide{
    height: 100%;
}

