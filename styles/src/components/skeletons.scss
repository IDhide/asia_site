/* ================================================
   SKELETON LOADERS
   Индикаторы загрузки контента
   ================================================ */

/* Базовый skeleton */
.skeleton {
  display: block;
  background: var(--card-bg-secondary);
  border-radius: var(--card-border-radius-s);
  position: relative;
  overflow: hidden;
  animation: skeleton-pulse 1.5s ease-in-out infinite;

  /* Wave эффект */
  &::after {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      90deg,
      transparent,
      var(--shimmer-color),
      transparent
    );
    animation: skeleton-wave 1.5s ease-in-out infinite;
  }
}

/* Pulse анимация */
@keyframes skeleton-pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.6;
  }
}

/* Wave анимация */
@keyframes skeleton-wave {
  0% {
    left: -100%;
  }
  100% {
    left: 100%;
  }
}

/* ================================================
   ФОРМЫ SKELETON
   ================================================ */

/* Текст */
.skeleton-text {
  height: clamp(12px, 1.5vw, 16px);
  border-radius: clamp(4px, 0.6vw, 6px);
  margin-bottom: clamp(8px, 1.2vw, 10px);

  &:last-child {
    margin-bottom: 0;
  }
}

.skeleton-text-xs {
  height: clamp(10px, 1.2vw, 12px);
}

.skeleton-text-s {
  height: clamp(12px, 1.5vw, 14px);
}

.skeleton-text-m {
  height: clamp(14px, 1.8vw, 16px);
}

.skeleton-text-l {
  height: clamp(16px, 2vw, 18px);
}

.skeleton-text-xl {
  height: clamp(20px, 2.5vw, 24px);
}

/* Заголовок */
.skeleton-heading {
  height: clamp(24px, 3vw, 32px);
  width: 60%;
  margin-bottom: clamp(12px, 2vw, 16px);
}

/* Параграф */
.skeleton-paragraph {
  display: flex;
  flex-direction: column;
  gap: clamp(6px, 1vw, 8px);
}

/* Круг (для аватаров) */
.skeleton-circle {
  width: clamp(40px, 6vw, 60px);
  height: clamp(40px, 6vw, 60px);
  border-radius: 50%;
}

.skeleton-circle-xs {
  width: clamp(24px, 3vw, 32px);
  height: clamp(24px, 3vw, 32px);
}

.skeleton-circle-s {
  width: clamp(32px, 4vw, 40px);
  height: clamp(32px, 4vw, 40px);
}

.skeleton-circle-m {
  width: clamp(40px, 6vw, 60px);
  height: clamp(40px, 6vw, 60px);
}

.skeleton-circle-l {
  width: clamp(60px, 8vw, 80px);
  height: clamp(60px, 8vw, 80px);
}

.skeleton-circle-xl {
  width: clamp(80px, 10vw, 120px);
  height: clamp(80px, 10vw, 120px);
}

/* Прямоугольник (для изображений) */
.skeleton-rect {
  width: 100%;
  height: clamp(120px, 20vw, 200px);
  border-radius: var(--card-border-radius-m);
}

.skeleton-rect-xs {
  height: clamp(60px, 10vw, 80px);
}

.skeleton-rect-s {
  height: clamp(80px, 12vw, 120px);
}

.skeleton-rect-m {
  height: clamp(120px, 20vw, 200px);
}

.skeleton-rect-l {
  height: clamp(200px, 30vw, 300px);
}

.skeleton-rect-xl {
  height: clamp(300px, 40vw, 400px);
}

/* Квадрат */
.skeleton-square {
  width: clamp(80px, 12vw, 120px);
  height: clamp(80px, 12vw, 120px);
  border-radius: var(--card-border-radius-m);
}

/* ================================================
   МОДИФИКАТОРЫ АНИМАЦИИ
   ================================================ */

/* Только pulse (без wave) */
.skeleton-pulse {
  &::after {
    display: none;
  }
}

/* Только wave (без pulse) */
.skeleton-wave {
  animation: none;
}

/* Без анимации */
.skeleton-static {
  animation: none;

  &::after {
    display: none;
  }
}

/* ================================================
   ГОТОВЫЕ КОМПОНЕНТЫ
   ================================================ */

/* Skeleton для карточки */
.skeleton-card {
  padding: clamp(16px, 2.5vw, 20px);
  background: var(--card-bg);
  border: 1px solid var(--border-color);
  border-radius: var(--card-border-radius-m);
}

.skeleton-card-media {
  width: 100%;
  height: clamp(120px, 20vw, 200px);
  background: var(--card-bg-secondary);
  border-radius: var(--card-border-radius-s);
  margin-bottom: clamp(12px, 2vw, 16px);
  position: relative;
  overflow: hidden;

  &::after {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      90deg,
      transparent,
      var(--shimmer-color),
      transparent
    );
    animation: skeleton-wave 1.5s ease-in-out infinite;
  }
}

.skeleton-card-content {
  display: flex;
  flex-direction: column;
  gap: clamp(8px, 1.2vw, 10px);
}

/* Skeleton для списка */
.skeleton-list {
  display: flex;
  flex-direction: column;
  gap: clamp(12px, 2vw, 16px);
}

.skeleton-list-item {
  display: flex;
  align-items: center;
  gap: clamp(12px, 2vw, 16px);
}

.skeleton-list-item-avatar {
  flex-shrink: 0;
}

.skeleton-list-item-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: clamp(6px, 1vw, 8px);
}

/* Skeleton для профиля */
.skeleton-profile {
  display: flex;
  align-items: center;
  gap: clamp(16px, 2.5vw, 20px);
}

.skeleton-profile-avatar {
  flex-shrink: 0;
}

.skeleton-profile-info {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: clamp(8px, 1.2vw, 10px);
}

/* ================================================
   АДАПТИВНОСТЬ
   ================================================ */

/* Уменьшаем интенсивность анимации на слабых устройствах */
@media (prefers-reduced-motion: reduce) {
  .skeleton {
    animation: none;

    &::after {
      animation: none;
    }
  }
}
